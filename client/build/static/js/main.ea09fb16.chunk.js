(this["webpackJsonpgroupomania-network"]=this["webpackJsonpgroupomania-network"]||[]).push([[0],{154:function(e,t,n){"use strict";n.r(t);var o=n(191),c=n(0),r=n(66),a=n.n(r),i=n(5),s=n(34),l=n(18),d=n(171),j=n(194),u=n(169),b=n(170),p=n(172),h=n(173),m=n(190),x=n(193),O=n(174),f=n(176),g=n(175),S=n(167),v=n(48),w=n(1);function y(e){var t=e.onClose,n=e.isOpen,o=e.deleteBtn,r=e.handleDelete,a=Object(c.useState)(""),s=Object(i.a)(a,2),l=s[0],d=s[1],j=Object(c.useRef)();return Object(c.useEffect)((function(){"post"===o&&d("Delete Post"),"comment"===o&&d("Delete Comment"),"account"===o&&d("Delete Account")})),Object(w.jsx)(S.a,{isOpen:n,leastDestructiveRef:j,onClose:t,children:Object(w.jsx)(v.f,{children:Object(w.jsxs)(S.b,{children:[Object(w.jsx)(v.e,{fontSize:"lg",fontWeight:"bold",children:l}),Object(w.jsx)(v.b,{children:"Are you sure? You can't undo this action afterwards."}),Object(w.jsxs)(v.d,{children:[Object(w.jsx)(x.a,{ref:j,onClick:t,children:"Cancel"}),Object(w.jsx)(x.a,{colorScheme:"red",onClick:function(){return r()},ml:3,children:"Delete"})]})]})})})}var C=n(25),k=n.n(C),T=n(47);function z(e,t,n,o,c,r){return _.apply(this,arguments)}function _(){return(_=Object(T.a)(k.a.mark((function e(t,n,o,c,r,a){var i,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5000/api/".concat(t,"/").concat(n),{method:o,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(r)});case 3:return i=e.sent,e.next=6,i.json();case 6:if(s=e.sent,i.ok){e.next=9;break}throw new Error(i.statusText);case 9:a&&a(s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function D(e){var t=e.post,n=e.authToken,o=e.userId,r=e.readPosts,a=Object(c.useState)(!1),l=Object(i.a)(a,2),S=l[0],v=l[1],C=Object(c.useState)(""),k=Object(i.a)(C,2),T=k[0],_=k[1],D=Object(u.a)("(max-width: 520px)"),P=Object(i.a)(D,1)[0],E=t.post_id;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(s.b,{to:"/post/".concat(t.post_id),style:{width:"100%"},onClick:function(){r.find((function(e){return e.post_id===E}))||z("posts",E,"POST",n,{userId:o})},children:Object(w.jsx)(b.a,{bg:"white",p:0,borderColor:"#CBD5E0",borderWidth:"1px",borderRadius:"5px",transition:"0.4s",opacity:function(){return r.find((function(e){return e.post_id===E}))?"0.6":"1"},_hover:{boxShadow:"xl"},children:Object(w.jsxs)(d.a,{p:["12px 18px 18px 18px","12px 24px 24px 24px"],m:0,maxW:"100%",children:[Object(w.jsxs)(b.a,{justify:"space-between",align:"center",minHeight:"32px",children:[Object(w.jsxs)(j.a,{marginBottom:"4px",lineHeight:"1.2rem",children:[Object(w.jsx)(p.a,{colorScheme:"purple",fontSize:["0.55rem","0.6rem"],children:t.topic_name}),Object(w.jsxs)(h.a,{color:"grey",fontSize:["0.70rem","0.75rem"],children:[P?"":"Posted by: ",t.user_name]})]}),Object(w.jsx)(m.a,{label:"Delete Post",fontSize:"xs",children:Object(w.jsx)(x.a,{as:O.a,p:0,size:P?"xs":"sm",bg:"transparent",display:o!==t.user_id?"none":"flex",onClick:function(e){e.preventDefault(),_("post"),v(!0)},children:Object(w.jsx)(g.a,{color:"red.600"})})})]}),Object(w.jsx)(f.a,{fontSize:["lg","xl"],fontWeight:"500",lineHeight:"2.2rem",children:t.post_title}),Object(w.jsx)(h.a,{fontSize:["sm","md"],lineHeight:"1.6rem",noOfLines:[3,3,4],children:t.post_body})]})})}),Object(w.jsx)(y,{onClose:function(){return v(!1)},isOpen:S,handleDelete:function(){"post"===T&&(v(!1),z("posts",E,"DELETE",n,{userId:o}),window.location="/")},deleteBtn:T})]})}var P=n(196),E=n(73),B=n(177),W=n(197),I=n(178),F=n(179);function R(e){var t=e.topics,n=e.authToken,o=e.userId,r=Object(c.useState)(""),a=Object(i.a)(r,2),s=a[0],l=a[1],d=Object(c.useState)(""),j=Object(i.a)(d,2),u=j[0],b=j[1],p=Object(c.useState)(),h=Object(i.a)(p,2),m=h[0],f=h[1],g=Object(P.a)(),S=g.isOpen,v=g.onOpen,y=""===s||void 0===m;return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(O.a,{marginBottom:6,bg:"white",w:"100%",p:4,borderColor:"#CBD5E0",borderWidth:"1px",borderRadius:"5px",transition:"0.3s",_hover:{boxShadow:"xl"},children:Object(w.jsx)("form",{method:"POST",onSubmit:function(e){e.preventDefault(),z("posts","","POST",n,{user_id:o,topic_id:m,title:s,body:u}),window.location="/",l(""),b("")},children:Object(w.jsxs)(E.a,{children:[Object(w.jsx)(B.a,{isRequired:!0,id:"postTitle",name:"title",value:s,onFocus:v,type:"text",placeholder:S?"Title":"Create a new post here ...",fontSize:["sm","md"],focusBorderColor:"#E9D8FD",autoComplete:"off",onChange:function(e){var t=e.target;return l(t.value)}}),Object(w.jsxs)(W.a,{in:S,animateOpacity:!0,children:[Object(w.jsx)(I.a,{name:"text",value:u,placeholder:"Text (optional)",marginTop:4,marginBottom:2.5,h:"130px",fontSize:["sm","md"],focusBorderColor:"#E9D8FD",borderWidth:"1px",borderColor:"gray.200",onChange:function(e){var t=e.target;return b(t.value)}}),Object(w.jsx)(F.a,{placeholder:"Select Topic",onChange:function(e){var t=e.target;return f(t.value)},marginBottom:4,fontSize:["sm","md"],children:t.map((function(e){return Object(w.jsx)("option",{value:e.topic_id,children:e.topic_name},e.topic_id)}))}),Object(w.jsx)(x.a,{colorScheme:"purple",type:"submit",disabled:y,fontSize:["sm","md"],w:"100%",children:"Post"})]})]})})})})}function H(e,t,n,o){return A.apply(this,arguments)}function A(){return(A=Object(T.a)(k.a.mark((function e(t,n,o,c){var r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=16;break}return e.prev=1,e.next=4,fetch("http://localhost:5000/api/".concat(t,"/").concat(n),{headers:{Authorization:"Bearer ".concat(o)}});case 4:return r=e.sent,e.next=7,r.json();case 7:if(a=e.sent,r.ok){e.next=10;break}throw new Error(r.statusText);case 10:c&&c(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function L(e){var t=e.topics,n=e.setPosts,o=e.authToken,r=Object(c.useState)(),a=Object(i.a)(r,2),s=a[0],l=a[1],d=Object(u.a)("(max-width: 900px)"),j=Object(i.a)(d,1)[0];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(x.a,{type:"button",bg:"white",fontWeight:"normal",fontSize:j?"sm":"md",variant:"outline",w:"100%",h:"48px",p:4,colorScheme:"purple",color:"black",borderRadius:"5px",border:"2px",borderColor:"purple.400",marginBottom:2,onClick:function(){H("posts","",o,n)},_hover:{boxShadow:"lg",color:"purple.600"},children:"Show All"}),Object(w.jsx)("form",{onSubmit:function(e){e.preventDefault(),z("topics","","POST",o,{topic_id:s},n)},children:t.map((function(e){return Object(w.jsx)(x.a,{type:"submit",value:e.topic_id,bg:"white",fontWeight:"normal",fontSize:j?"sm":"md",variant:"outline",w:"100%",h:"48px",p:4,colorScheme:"purple",color:"black",borderRadius:"5px",border:"2px",borderColor:"purple.400",marginBottom:2,_hover:{boxShadow:"lg",color:"purple.600"},onClick:function(e){var t=e.target;return l(t.value)},children:e.topic_name},e.topic_id)}))})]})}var q=n(180),J=n.p+"static/media/icon-left-font-monochrome-black.19aa0a7c.svg",N=n.p+"static/media/icon.df011b71.svg";function U(){var e=Object(u.a)("(max-width: 520px)"),t=Object(i.a)(e,1)[0];return Object(w.jsx)(O.a,{position:"sticky",top:0,p:[4,6],bg:"gray.100",zIndex:1,children:Object(w.jsxs)(b.a,{justify:"space-between",align:"center",w:"100%",position:"sticky",top:0,children:[Object(w.jsx)(q.a,{h:"36px",src:t?N:J,alt:"Groupomania Logo"}),Object(w.jsxs)(j.a,{spacing:4,children:[Object(w.jsx)(s.b,{to:"/account",children:Object(w.jsx)(x.a,{as:O.a,minWidth:"95px",colorScheme:"purple",fontSize:["sm","md"],children:"Account"})}),Object(w.jsx)(x.a,{minWidth:"95px",colorScheme:"purple",fontSize:["sm","md"],onClick:function(){return sessionStorage.removeItem("token"),void(window.location="/")},children:"Logout"})]})]})})}var M=n(182),G=n(181);function Y(e){var t=e.comment,n=e.userId,o=e.authToken,r=Object(c.useState)(!1),a=Object(i.a)(r,2),s=a[0],l=a[1],d=Object(c.useState)(!1),p=Object(i.a)(d,2),f=p[0],S=p[1],v=Object(c.useState)(t.comment_body),C=Object(i.a)(v,2),k=C[0],T=C[1],_=Object(c.useState)(""),D=Object(i.a)(_,2),P=D[0],E=D[1],B=Object(u.a)("(max-width: 520px)"),W=Object(i.a)(B,1)[0],F=t.comment_id;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(O.a,{style:{width:"100%"},bg:"white",marginTop:12,p:4,pt:2,borderColor:"#CBD5E0",borderWidth:"1px",borderRadius:"5px",children:[Object(w.jsxs)(b.a,{justify:"space-between",align:"center",mb:2,children:[Object(w.jsxs)(h.a,{color:"grey",fontSize:["0.70rem","0.75rem"],children:[W?"":"Posted by: ",t.user_name]}),Object(w.jsxs)(j.a,{children:[Object(w.jsx)(m.a,{label:"Modify Comment",fontSize:"xs",children:Object(w.jsx)(x.a,{p:0,size:W?"xs":"sm",bg:"transparent",display:n!==t.user_id?"none":"block",onClick:!1===f?function(){return S(!0)}:function(){return S(!1)},children:Object(w.jsx)(G.a,{color:"purple.500"})})}),Object(w.jsx)(m.a,{label:"Delete Comment",fontSize:"xs",children:Object(w.jsx)(x.a,{bg:"none",p:0,size:W?"xs":"sm",display:n!==t.user_id?"none":"block",onClick:function(e){return function(e){e.preventDefault(),E("comment"),l(!0)}(e)},children:Object(w.jsx)(g.a,{color:"red.600"})})})]})]}),!1===f&&Object(w.jsxs)(h.a,{fontSize:["sm","md"],children:[" ",t.comment_body," "]}),!0===f&&Object(w.jsxs)("form",{method:"PUT",onSubmit:function(){z("comments","","PUT",o,{commentId:F,body:k})},children:[Object(w.jsx)(I.a,{value:k,placeholder:"Text",fontSize:["sm","md"],focusBorderColor:"#E9D8FD",borderWidth:"1px",borderColor:"gray.200",marginBottom:2.5,onChange:function(e){var t=e.target;return T(t.value)}}),Object(w.jsxs)(j.b,{spacing:4,children:[Object(w.jsx)(x.a,{colorScheme:"purple",type:"submit",w:"100%",fontSize:["sm","md"],children:"Update"}),Object(w.jsx)(x.a,{type:"button",w:"100%",fontSize:["sm","md"],onClick:function(){return S(!1)},children:"Cancel"})]})]})]},t.comment_id),Object(w.jsx)(y,{onClose:function(){return l(!1)},isOpen:s,handleDelete:function(){"comment"===P&&(l(!1),z("comments","","DELETE",o,{commentId:F}),window.location.reload())},deleteBtn:P})]})}function K(e){var t=e.singlePost,n=e.topics,o=e.authToken,r=e.id,a=e.setModifyPost,s=Object(c.useState)(t.post_title),l=Object(i.a)(s,2),d=l[0],b=l[1],p=Object(c.useState)(t.post_body),h=Object(i.a)(p,2),m=h[0],O=h[1],f=Object(c.useState)(),g=Object(i.a)(f,2),S=g[0],v=g[1],y=Object(u.a)("(max-width: 520px)"),C=Object(i.a)(y,1)[0],_=function(){var e=Object(T.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={topic_id:S||t.topic_id,title:d,body:m},z("posts",r,"PUT",o,n);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)("form",{method:"PUT",onSubmit:function(){return _()},children:Object(w.jsxs)(E.a,{mt:2,children:[Object(w.jsx)(B.a,{isRequired:!0,id:"postTitle",name:"title",value:d,placeholder:"Title",type:"text",fontSize:["sm","md"],focusBorderColor:"#E9D8FD",autoComplete:"off",onChange:function(e){var t=e.target;return b(t.value)}}),Object(w.jsx)(I.a,{name:"text",value:m,placeholder:"Text (optional)",marginTop:4,marginBottom:2.5,h:C?"160px":"260px",fontSize:["sm","md"],focusBorderColor:"#E9D8FD",borderWidth:"1px",borderColor:"gray.200",onChange:function(e){var t=e.target;return O(t.value)}}),Object(w.jsx)(F.a,{placeholder:"Select Topic",onChange:function(e){var t=e.target;return v(t.value)},marginBottom:4,fontSize:["sm","md"],children:n.map((function(e){return Object(w.jsx)("option",{value:e.topic_id,children:e.topic_name},e.topic_id)}))}),Object(w.jsxs)(j.b,{spacing:4,children:[Object(w.jsx)(x.a,{colorScheme:"purple",w:"100%",type:"submit",fontSize:["sm","md"],children:"Post"}),Object(w.jsx)(x.a,{type:"button",w:"100%",fontSize:["sm","md"],onClick:function(){return a(!1)},children:"Cancel"})]})]})})}function Q(e){var t=e.authToken,n=e.userId,o=e.topics,r=Object(c.useState)({}),a=Object(i.a)(r,2),s=a[0],d=a[1],S=Object(c.useState)(""),v=Object(i.a)(S,2),C=v[0],k=v[1],T=Object(c.useState)([]),_=Object(i.a)(T,2),D=_[0],P=_[1],B=Object(c.useState)(!1),W=Object(i.a)(B,2),F=W[0],R=W[1],A=Object(c.useState)(!1),L=Object(i.a)(A,2),q=L[0],J=L[1],N=Object(c.useState)(""),U=Object(i.a)(N,2),Q=U[0],V=U[1],X=Object(u.a)("(max-width: 520px)"),Z=Object(i.a)(X,1)[0],$=Object(l.f)().id;return Object(c.useEffect)((function(){H("posts",$,t,d),H("comments",$,t,P)}),[$,t]),Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(O.a,{maxW:"container.md",bg:"white",w:"100%",p:[3,4],pt:4,borderColor:"#CBD5E0",borderWidth:"1px",borderRadius:"5px",children:[Object(w.jsxs)(b.a,{justifyContent:"space-between",children:[Object(w.jsxs)(j.a,{marginBottom:"4px",lineHeight:"1.2rem",children:[Object(w.jsx)(m.a,{label:"Go back",fontSize:"xs",children:Object(w.jsx)(x.a,{p:0,size:Z?"xs":"sm",bg:"transparent",onClick:function(){return window.location="/"},children:Object(w.jsx)(M.a,{boxSize:"1.3em"})})}),Object(w.jsx)(p.a,{colorScheme:"purple",fontSize:["0.55rem","0.6rem"],children:s.topic_name}),Object(w.jsxs)(h.a,{color:"grey",fontSize:["0.70rem","0.75rem"],children:[Z?"":"Posted by: ",s.user_name]})]}),Object(w.jsxs)(j.a,{marginBottom:"4px",lineHeight:"1.2rem",children:[Object(w.jsx)(m.a,{label:"Modify Post",fontSize:"xs",children:Object(w.jsx)(x.a,{p:0,size:Z?"xs":"sm",bg:"transparent",display:n!==s.user_id?"none":"flex",onClick:!1===F?function(){return R(!0)}:function(){return R(!1)},children:Object(w.jsx)(G.a,{color:"purple.500"})})}),Object(w.jsx)(m.a,{label:"Delete Post",fontSize:"xs",children:Object(w.jsx)(x.a,{bg:"none",p:0,size:Z?"xs":"sm",display:n!==s.user_id?"none":"flex",onClick:function(e){return function(e){e.preventDefault(),V("post"),J(!0)}(e)},children:Object(w.jsx)(g.a,{color:"red.600"})})})]})]}),!0===F&&Object(w.jsx)(K,{singlePost:s,topics:o,setModifyPost:R,authToken:t,id:$}),!1===F&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(f.a,{fontSize:["lg","xl"],fontWeight:"500",lineHeight:"2.2rem",children:s.post_title}),Object(w.jsx)(h.a,{lineHeight:"1.6rem",fontSize:["sm","md"],children:s.post_body}),Object(w.jsx)("form",{method:"POST",onSubmit:function(e){e.preventDefault(),z("comments","","POST",t,{user_id:n,post_id:$,body:C}),window.location.reload()},children:Object(w.jsxs)(E.a,{marginTop:10,children:[Object(w.jsx)(I.a,{isRequired:!0,name:"comment",value:C,type:"text",fontSize:["sm","md"],placeholder:"Add a comment...",focusBorderColor:"#E9D8FD",autoComplete:"off",h:"130px",marginBottom:4,onChange:function(e){var t=e.target;return k(t.value)}}),Object(w.jsx)(x.a,{type:"submit",disabled:""===C,w:"100%",fontSize:["sm","md"],colorScheme:"purple",children:"Comment"})]})})]}),Object(w.jsx)(j.b,{spacing:6,children:D.map((function(e){return Object(w.jsx)(Y,{comment:e,userId:n,authToken:t},e.comment_id)}))}),Object(w.jsx)(y,{onClose:function(){return J(!1)},isOpen:q,handleDelete:function(){"post"===Q&&(J(!1),z("posts",$,"DELETE",t,{userId:n}),window.location="/")},deleteBtn:Q})]})})}var V=n(183),X=n(184),Z=n(185),$=n(186),ee=n(187);function te(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)(""),a=Object(i.a)(r,2),l=a[0],u=a[1],b=Object(c.useState)(""),p=Object(i.a)(b,2),h=p[0],m=p[1],O=Object(c.useState)(!1),f=Object(i.a)(O,2),g=f[0],S=f[1],v=""===l||""===n;function y(){return(y=Object(T.a)(k.a.mark((function e(t){var o,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,o={username:h,email:n,password:l},e.next=5,fetch("http://localhost:5000/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 5:if((c=e.sent).ok){e.next=8;break}throw new Error(c.statusText);case 8:window.location="/",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(V.a,{h:"100vh",p:4,children:Object(w.jsx)(d.a,{maxW:"md",bg:"white",p:[4,8],borderRadius:"5px",children:Object(w.jsx)("form",{method:"POST",onSubmit:function(e){return y.apply(this,arguments)},children:Object(w.jsxs)(j.b,{spacing:6,children:[Object(w.jsxs)(E.a,{isRequired:!0,children:[Object(w.jsx)(X.a,{htmlFor:"username",children:"User Name"}),Object(w.jsx)(B.a,{type:"text",id:"username",value:h,onChange:function(e){var t=e.target;return m(t.value)}})]}),Object(w.jsxs)(E.a,{isRequired:!0,children:[Object(w.jsx)(X.a,{htmlFor:"email",children:"Email Address"}),Object(w.jsx)(B.a,{type:"email",id:"email","aria-describedby":"email-helper-text",value:n,onChange:function(e){var t=e.target;return o(t.value)}}),Object(w.jsx)(E.b,{id:"email-helper-text",children:"Please use your internal email address."})]}),Object(w.jsxs)(E.a,{isRequired:!0,children:[Object(w.jsx)(X.a,{htmlFor:"password",children:"Password"}),Object(w.jsxs)(Z.a,{children:[Object(w.jsx)(B.a,{type:g?"text":"password",id:"password",autoComplete:"off",value:l,onChange:function(e){var t=e.target;return u(t.value)}}),Object(w.jsx)($.a,{width:"4.5rem",children:Object(w.jsx)(x.a,{h:"1.75rem",size:"sm",onClick:function(){return S(!g)},children:g?"Hide":"Show"})})]})]}),Object(w.jsx)(x.a,{type:"submit",disabled:v,colorScheme:"purple",variant:"solid",w:"100%",children:"Submit"}),Object(w.jsx)(ee.a,{as:s.b,to:"/",color:"purple.400",children:"Already have an account?"})]})})})})})}function ne(e){var t=e.setToken,n=Object(c.useState)(""),o=Object(i.a)(n,2),r=o[0],a=o[1],l=Object(c.useState)(""),u=Object(i.a)(l,2),b=u[0],p=u[1],m=Object(c.useState)(""),O=Object(i.a)(m,2),f=O[0],g=O[1],S=Object(c.useState)(!1),v=Object(i.a)(S,2),y=v[0],C=v[1],z=""===b||""===r;function _(){return(_=Object(T.a)(k.a.mark((function e(n){var o,c,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,o={username:r,password:b},e.next=5,fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 5:return c=e.sent,e.next=8,c.json();case 8:if((a=e.sent).error&&g(a.error),c.ok){e.next=12;break}throw new Error(c.statusText);case 12:t(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(V.a,{h:"100vh",p:4,children:Object(w.jsx)(d.a,{maxW:"md",bg:"white",p:[4,8],borderRadius:"5px",children:Object(w.jsx)("form",{method:"POST",onSubmit:function(e){return _.apply(this,arguments)},children:Object(w.jsxs)(j.b,{spacing:6,children:[Object(w.jsx)(h.a,{color:"red",display:f?"block":"none",children:f}),Object(w.jsxs)(E.a,{isRequired:!0,children:[Object(w.jsx)(X.a,{htmlFor:"username",children:"User Name"}),Object(w.jsx)(B.a,{type:"text",id:"username",value:r,onChange:function(e){var t=e.target;return a(t.value)}})]}),Object(w.jsxs)(E.a,{isRequired:!0,children:[Object(w.jsx)(X.a,{htmlFor:"password",children:"Password"}),Object(w.jsxs)(Z.a,{children:[Object(w.jsx)(B.a,{type:y?"text":"password",id:"password",autoComplete:"off",value:b,onChange:function(e){var t=e.target;return p(t.value)}}),Object(w.jsx)($.a,{width:"4.5rem",children:Object(w.jsx)(x.a,{h:"1.75rem",size:"sm",onClick:function(){return C(!y)},children:y?"Hide":"Show"})})]})]}),Object(w.jsx)(x.a,{type:"submit",disabled:z,colorScheme:"purple",variant:"solid",w:"100%",children:"Login"}),Object(w.jsx)(ee.a,{as:s.b,to:"/signup",color:"purple.400",children:"Don't have an account?"})]})})})})})}var oe=n(188);function ce(e){var t,n,o,r,a=e.userId,s=e.authToken,l=Object(c.useState)({}),u=Object(i.a)(l,2),b=u[0],p=u[1],O=Object(c.useState)(!1),g=Object(i.a)(O,2),S=g[0],v=g[1],C=Object(c.useState)(""),k=Object(i.a)(C,2),T=k[0],_=k[1];return Object(c.useEffect)((function(){z("auth","","POST",s,{userId:a},p)}),[a,s]),Object(w.jsxs)(d.a,{maxW:"container.md",m:0,bg:"white",w:"100%",p:6,borderColor:"#CBD5E0",borderWidth:"1px",borderRadius:"5px",children:[Object(w.jsx)(d.a,{m:0,p:0,maxW:"100%",children:Object(w.jsx)(m.a,{label:"Go back",fontSize:"xs",children:Object(w.jsx)(x.a,{p:0,size:"sm",bg:"transparent",onClick:function(){return window.location="/"},children:Object(w.jsx)(M.a,{boxSize:"1.3em"})})})}),Object(w.jsx)(d.a,{m:0,p:0,maxW:"100%",textAlign:"center",lineHeight:"20px",children:Object(w.jsxs)(j.b,{spacing:4,children:[Object(w.jsx)(oe.a,{name:null===(t=b[0])||void 0===t?void 0:t.user_name,size:"2xl"}),Object(w.jsx)(f.a,{fontSize:["lg","xl"],children:null===(n=b[0])||void 0===n?void 0:n.user_name}),Object(w.jsx)(h.a,{fontSize:["sm","md"],children:null===(o=b[0])||void 0===o?void 0:o.user_email}),Object(w.jsxs)(h.a,{fontSize:["sm","md"],children:["Created on: ",null===(r=b[0])||void 0===r?void 0:r.created_on.slice(0,10)]}),Object(w.jsx)(x.a,{colorScheme:"red",fontSize:["sm","md"],onClick:function(e){e.preventDefault(),_("account"),v(!0)},children:"Delete Account"})]})}),Object(w.jsx)(y,{onClose:function(){return v(!1)},isOpen:S,handleDelete:function(){"account"===T&&(z("auth","","DELETE",s,{userId:a}),sessionStorage.removeItem("token"),window.location="/")},deleteBtn:T})]})}function re(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)([]),a=Object(i.a)(r,2),u=a[0],b=a[1],p=Object(c.useState)([]),h=Object(i.a)(p,2),m=h[0],x=h[1],O=function(){var e=Object(c.useState)(function(){var e=sessionStorage.getItem("token");return JSON.parse(e)}()),t=Object(i.a)(e,2),n=t[0],o=t[1];return{token:n,setToken:function(e){sessionStorage.setItem("token",JSON.stringify(e)),o(e)}}}(),f=O.token,g=O.setToken,S=null===f||void 0===f?void 0:f.authentication,v=null===f||void 0===f?void 0:f.userId;return Object(c.useEffect)((function(){H("posts","",S,b),H("topics","",S,o),H("posts/postsread",v,S,x)}),[S,v]),f?Object(w.jsxs)(s.a,{children:[Object(w.jsx)(U,{}),Object(w.jsx)(d.a,{backgroundColor:"#dbdae8",minHeight:"100vh",height:"100%",p:[3,6],paddingBottom:"20px",maxW:"100%",m:0,centerContent:!0,children:Object(w.jsxs)(l.c,{children:[Object(w.jsx)(l.a,{exact:!0,path:"/",children:Object(w.jsxs)(d.a,{maxW:"container.lg",d:"flex",p:0,children:[Object(w.jsxs)(d.a,{maxW:"container.md",p:0,m:0,children:[Object(w.jsx)(R,{topics:n,authToken:S,userId:v}),Object(w.jsx)(j.b,{spacing:6,children:u.map((function(e){return Object(w.jsx)(D,{post:e,authToken:S,setPosts:b,userId:v,readPosts:m},e.post_id)}))})]}),Object(w.jsx)(d.a,{flex:"1",p:0,display:["none","none","block"],marginLeft:4,children:Object(w.jsx)(L,{topics:n,setPosts:b,authToken:S})})]})}),Object(w.jsx)(l.a,{exact:!0,path:"/post/:id",render:function(){return Object(w.jsx)(Q,{authToken:S,userId:v,topics:n})}}),Object(w.jsx)(l.a,{exact:!0,path:"/account",render:function(){return Object(w.jsx)(ce,{userId:v,authToken:S})}})]})})]}):Object(w.jsx)("div",{style:{backgroundColor:"#dbdae8",minHeight:"100vh",height:"100%"},children:Object(w.jsx)(s.a,{children:Object(w.jsxs)(l.c,{children:[Object(w.jsx)(l.a,{exact:!0,path:"/",children:Object(w.jsx)(ne,{setToken:g})}),Object(w.jsx)(l.a,{exact:!0,path:"/signup",children:Object(w.jsx)(te,{})})]})})})}a.a.render(Object(w.jsx)(o.a,{children:Object(w.jsx)(re,{})}),document.getElementById("root"))}},[[154,1,2]]]);
//# sourceMappingURL=main.ea09fb16.chunk.js.map